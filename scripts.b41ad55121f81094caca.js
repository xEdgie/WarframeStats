var gamertag,slayerRank,apiKey="384505cac652456bb2738ae2f88107c6",slayerID="892189e9-d712-4bdb-afa7-1ccab43fbed4",slayerKDA=0,slayerKills=0,slayerDeaths=0,slayerAssists=0,slayerGames=0,slayerWins=0,slayerLoses=0,slayerTies=0;function getPlayerArenaStats(){gamertag=document.getElementById("searchPlayer").value;var e=new XMLHttpRequest;console.log("Getting Arena Stats"),e.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText),s=e.Results[0].Result.ArenaStats.ArenaPlaylistStats.length;for(i=0;i<s;i++)if(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].PlaylistId==slayerID){if(0==e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].MeasurementMatchesLeft){switch(console.log("Got Slayer Stats"),e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].Csr.DesignationId){case 1:slayerRank="Bronze";break;case 2:slayerRank="Silver";break;case 3:slayerRank="Gold";break;case 4:slayerRank="Platinum";break;case 5:slayerRank="Diamond";break;case 6:slayerRank="Onyx"}if("Onyx"==slayerRank)slayerRank=slayerRank+" "+e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].Csr;else switch(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].Csr.Tier){case 1:slayerRank+=" 1";break;case 2:slayerRank+=" 2";break;case 3:slayerRank+=" 3";break;case 4:slayerRank+=" 4";break;case 5:slayerRank+=" 5";break;case 6:slayerRank+=" 6"}document.getElementById("slayerRank").innerHTML="Rank : "+slayerRank}else document.getElementById("slayerRank").innerHTML="Rank : Not Ranked";slayerKills=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalKills),slayerDeaths=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalDeaths),slayerAssists=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalAssists),slayerGames=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalGamesCompleted),slayerWins=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalGamesWon),slayerLoses=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalGamesLost),slayerTies=parseInt(e.Results[0].Result.ArenaStats.ArenaPlaylistStats[i].TotalGamesTied),slayerKDA=(slayerKills+1/3*slayerAssists-slayerDeaths)/slayerGames,document.getElementById("slayerKDA").innerHTML="KDA : "+slayerKDA.toFixed(1),document.getElementById("slayerKills").innerHTML="Kills : "+slayerKills,document.getElementById("slayerDeaths").innerHTML="Deaths : "+slayerDeaths,document.getElementById("slayerAssists").innerHTML="Assists : "+slayerAssists,document.getElementById("slayerGames").innerHTML="Games Played : "+slayerGames,document.getElementById("slayerWins").innerHTML="Wins : "+slayerWins,document.getElementById("slayerLoses").innerHTML="Loses : "+slayerLoses,document.getElementById("slayerTies").innerHTML="Ties : "+slayerTies}}},e.open("GET",`https://www.haloapi.com/stats/h5/servicerecords/arena?players=${gamertag}`,!0),e.setRequestHeader("Ocp-Apim-Subscription-Key",apiKey),e.send(),getPlayerSpartan()}function getPlayerSpartan(){gamertag=document.getElementById("searchPlayer").value;var e=new XMLHttpRequest;console.log("Getting Spartan..."),e.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var s=e.responseURL;document.getElementById("Spartan").src=s}},e.open("GET","https://www.haloapi.com/profile/h5/profiles/xEdgie/spartan?size{512}",!0),e.setRequestHeader("Ocp-Apim-Subscription-Key",apiKey),e.send()}